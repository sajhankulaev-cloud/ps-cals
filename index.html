<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω (–¢—É—Ä—Ü–∏—è / –£–∫—Ä–∞–∏–Ω–∞)</title>
  <style>
    :root{
      --bg:#0b1020; --muted:#9aa6c3; --text:#e8eeff;
      --border:rgba(255,255,255,.10);
      --shadow: 0 12px 40px rgba(0,0,0,.35); --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      background: radial-gradient(1200px 800px at 20% 10%, rgba(110,168,255,.20), transparent 55%),
                  radial-gradient(900px 600px at 80% 20%, rgba(255,211,110,.16), transparent 60%),
                  var(--bg);
      color:var(--text);
      min-height:100vh;
      padding:28px 16px 48px;
    }
    .wrap{max-width:980px;margin:0 auto}
    header{margin-bottom:18px;}
    .title h1{margin:0;font-size:22px;letter-spacing:.2px}
    .title p{margin:6px 0 0;color:var(--muted);font-size:14px;line-height:1.4}
    .grid{display:grid; grid-template-columns: 1.2fr .8fr; gap:14px;}
    @media (max-width: 900px){ .grid{grid-template-columns:1fr} }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
    }
    .card h2{margin:0 0 10px;font-size:16px}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .seg{
      display:flex; gap:8px; background:rgba(255,255,255,.04); padding:6px; border-radius:14px;
      border:1px solid var(--border);
    }
    .seg button{
      border:0; background:transparent; color:var(--muted);
      padding:10px 12px; border-radius:12px; cursor:pointer; font-weight:700;
      transition:.15s transform, .15s background, .15s color;
      white-space:nowrap;
    }
    .seg button.active{
      background:rgba(110,168,255,.18);
      color:var(--text);
      outline:1px solid rgba(110,168,255,.35);
    }
    .seg button:hover{transform:translateY(-1px)}
    label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
    .input{
      display:flex; gap:10px; align-items:center;
      background:rgba(255,255,255,.04);
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px 12px;
    }
    .input input{
      width:100%;
      border:0; outline:none; background:transparent;
      color:var(--text); font-size:18px; font-weight:800;
    }
    .badge{
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted); font-weight:800; font-size:12px;
      background:rgba(255,255,255,.03);
    }
    .result{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 520px){ .result{grid-template-columns:1fr} }
    .pill{
      border:1px solid var(--border);
      border-radius:16px;
      padding:12px;
      background:rgba(255,255,255,.03);
    }
    .pill .k{color:var(--muted);font-size:12px;margin-bottom:6px}
    .pill .v{font-size:18px;font-weight:900}
    .pill .v small{font-size:12px;color:var(--muted);font-weight:700}
    .hint{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.4;}
    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .btn{
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      color:var(--text);
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:800;
      transition:.15s transform, .15s background;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.06)}
    .btn.primary{background:rgba(110,168,255,.18); border-color:rgba(110,168,255,.35);}
    .table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:16px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.02);
    }
    .table th, .table td{
      padding:12px 12px;
      border-bottom:1px solid var(--border);
      font-size:14px;
    }
    .table th{
      text-align:left;
      color:var(--muted);
      font-size:12px;
      letter-spacing:.3px;
      text-transform:uppercase;
      background:rgba(255,255,255,.03);
    }
    .table tr:last-child td{border-bottom:0}
    .price{font-weight:900}
    .note{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px dashed rgba(255,211,110,.45);
      background:rgba(255,211,110,.10);
      color:var(--text);
      font-weight:900;
      text-align:center;
    }
    details{
      margin-top:10px;
      border:1px solid var(--border);
      border-radius:16px;
      padding:10px 12px;
      background:rgba(255,255,255,.02);
    }
    summary{cursor:pointer;font-weight:900;color:var(--text);list-style:none;}
    summary::-webkit-details-marker{display:none}
    .rates{margin-top:10px;display:grid;grid-template-columns:1fr 1fr;gap:10px;}
    @media (max-width: 650px){ .rates{grid-template-columns:1fr} }
    .ratebox{border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:rgba(255,255,255,.02);}
    .ratebox h3{margin:0 0 6px;font-size:13px;color:var(--muted);font-weight:900}
    .ratebox ul{margin:0; padding-left:16px}
    .ratebox li{margin:6px 0; font-size:13px}
    footer{margin-top:14px;color:var(--muted);font-size:12px;text-align:center}
  
    .table-wrap{overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:16px}
    .table{min-width:520px}
    @media (max-width: 420px){
      body{padding:18px 12px 32px;}
      .card{padding:14px}
      .seg{width:100%}
      .seg button{flex:1; width:50%; padding:10px 10px}
      .result{gap:8px}
      .pill{padding:10px}
      .btn{flex:1}
    }

  
    .ps-links{
      display:flex;
      gap:12px;
      margin-bottom:12px;
      flex-wrap:wrap;
    }
    .ps-links a{
      flex:1;
      text-align:center;
      padding:10px 12px;
      border-radius:14px;
      text-decoration:none;
      font-weight:800;
      color:var(--text);
      background:rgba(110,168,255,.18);
      border:1px solid rgba(110,168,255,.35);
    }
    .ps-links a:hover{
      background:rgba(110,168,255,.28);
    }

  
    @media (max-width: 520px){
      body{padding:18px 12px 32px;}
      .card{padding:14px}
      .title h1{font-size:20px}
      .ps-links a{flex:unset; width:100%;}
      .seg{width:100%}
      .seg button{flex:1; width:50%;}
      .input input{font-size:17px}
      .btns{gap:8px}
      .btn{flex:1}
      .result{grid-template-columns:1fr; gap:8px}
      .pill{padding:10px}
      .table{min-width:520px} /* —Ç–∞–±–ª–∏—Ü–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∫—Ä–æ–ª–ª–∏–º–æ–π */
    }
    @media (max-width: 360px){
      .title h1{font-size:18px}
      .seg button{padding:9px 8px}
      .badge{font-size:11px}
    }

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω –≤ ‚ÇΩ (–¢—É—Ä—Ü–∏—è / –£–∫—Ä–∞–∏–Ω–∞)</h1>
        <p>–¶–µ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–æ–∏—Ç 0 ‚Äî —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª –≤–∏–¥–µ–Ω —Å—Ä–∞–∑—É.</p>
      </div>
    </header>

    <div class="grid">
      <!-- CALC -->
      <section class="card" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä">
        
        <div class="ps-links">
          <a href="https://store.playstation.com/en-tr/pages/deals" target="_blank" rel="noopener">Store ‚Äî TR</a>
          <a href="https://store.playstation.com/ru-ua/pages/deals" target="_blank" rel="noopener">Store ‚Äî UA</a>
        </div>

        <h2>–°—á—ë—Ç—á–∏–∫ —Ü–µ–Ω</h2>

        <div class="row">
          <div class="seg" role="tablist" aria-label="–†–µ–≥–∏–æ–Ω">
            <button id="tabTR" class="active" type="button" role="tab" aria-selected="true">–¢—É—Ä—Ü–∏—è (TL)</button>
            <button id="tabUA" type="button" role="tab" aria-selected="false">–£–∫—Ä–∞–∏–Ω–∞ (UAH)</button>
          </div>
          <span id="regionBadge" class="badge">–†–µ–≥–∏–æ–Ω: –¢—É—Ä—Ü–∏—è</span>
        </div>

        <label for="amount">–°—É–º–º–∞</label>
        <div class="input">
          <input id="amount" inputmode="decimal" value="0" />
          <span id="currencyBadge" class="badge">TL</span>
        </div>

        <div class="result">
          <div class="pill">
            <div class="k">–ö—É—Ä—Å (‚ÇΩ –∑–∞ 1 –µ–¥–∏–Ω–∏—Ü—É)</div>
            <div class="v"><span id="rate">‚Äî</span> <small>‚ÇΩ</small></div>
          </div>
          <div class="pill">
            <div class="k">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ</div>
            <div class="v"><span id="total">‚Äî</span> <small>‚ÇΩ</small></div>
          </div>
        </div>

        <div class="btns">
          <button class="btn primary" id="copyBtn" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–æ–≥</button>
          <button class="btn" id="clearBtn" type="button">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞ 0</button>
        </div>

        <div class="hint" id="hint">–ö—É—Ä—Å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª—É ‚Äú–æ—Ç X –∏ –≤—ã—à–µ‚Äù. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ ‚Äî 250‚ÇΩ.</div>

        <details>
          <summary>–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –∫—É—Ä—Å–æ–≤</summary>
          <div class="rates">
            <div class="ratebox">
              <h3>–¢—É—Ä—Ü–∏—è (TL)</h3>
              <ul id="ratesTR"></ul>
            </div>
            <div class="ratebox">
              <h3>–£–∫—Ä–∞–∏–Ω–∞ (UAH)</h3>
              <ul id="ratesUA"></ul>
            </div>
          </div>
        </details>
      </section>

      <!-- SUBSCRIPTIONS (–ò–ù–§–û) -->
      <aside class="card" aria-label="–¶–µ–Ω—ã –Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)">
        <h2>üüß PlayStation Plus –∏ EA Play (—Ü–µ–Ω—ã)</h2>

        <div class="table-wrap" aria-label="–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö"><table class="table" aria-label="–¢–∞–±–ª–∏—Ü–∞ —Ü–µ–Ω (–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ)">
          <thead>
            <tr>
              <th>–ü–æ–¥–ø–∏—Å–∫–∞</th>
              <th>–°—Ä–æ–∫</th>
              <th>–¶–µ–Ω–∞</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>PS Plus ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π</td><td>1 –º–µ—Å—è—Ü</td><td class="price">1050‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π</td><td>3 –º–µ—Å—è—Ü–∞</td><td class="price">1850‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π</td><td>12 –º–µ—Å—è—Ü–µ–≤</td><td class="price">3750‚ÇΩ</td></tr>

            <tr><td>PS Plus ‚Äî –≠–∫—Å—Ç—Ä–∞</td><td>1 –º–µ—Å—è—Ü</td><td class="price">1300‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –≠–∫—Å—Ç—Ä–∞</td><td>3 –º–µ—Å—è—Ü–∞</td><td class="price">2700‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –≠–∫—Å—Ç—Ä–∞</td><td>12 –º–µ—Å—è—Ü–µ–≤</td><td class="price">5750‚ÇΩ</td></tr>

            <tr><td>PS Plus ‚Äî –õ—é–∫—Å</td><td>1 –º–µ—Å—è—Ü</td><td class="price">1500‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –õ—é–∫—Å</td><td>3 –º–µ—Å—è—Ü–∞</td><td class="price">3100‚ÇΩ</td></tr>
            <tr><td>PS Plus ‚Äî –õ—é–∫—Å</td><td>12 –º–µ—Å—è—Ü–µ–≤</td><td class="price">6500‚ÇΩ</td></tr>

            <tr><td>EA Play</td><td>1 –º–µ—Å—è—Ü</td><td class="price">750‚ÇΩ</td></tr>
            <tr><td>EA Play</td><td>12 –º–µ—Å—è—Ü–µ–≤</td><td class="price">2550‚ÇΩ</td></tr>

            <tr><td colspan="2"><b>–ê–∫–∫–∞—É–Ω—Ç (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)</b></td><td class="price">+100‚ÇΩ</td></tr>
          </tbody>
        </table></div>

        <div class="note">+100‚ÇΩ –∑–∞ –∞–∫–∫–∞—É–Ω—Ç</div>
      </aside>
    </div>

    <footer>¬© –û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä.</footer>
  </div>

  <script>
    const RATES_TR = [
      { from: 2497, rate: 2.38 },
      { from: 1497, rate: 2.48 },
      { from:  997, rate: 2.58 },
      { from:  497, rate: 2.78 },
      { from:  297, rate: 3.08 },
      { from:  197, rate: 3.28 },
      { from:   97, rate: 3.48 },
      { from:   50, rate: 3.88 },
      { from:    0, rate: 5.08 },
    ];

    const RATES_UA = [
      { from: 2497, rate: 2.35 },
      { from: 1497, rate: 2.45 },
      { from:  997, rate: 2.55 },
      { from:  497, rate: 2.75 },
      { from:  297, rate: 3.05 },
      { from:    0, rate: 3.45 },
    ];

    const tabTR = document.getElementById('tabTR');
    const tabUA = document.getElementById('tabUA');
    const amountEl = document.getElementById('amount');
    const rateEl = document.getElementById('rate');
    const totalEl = document.getElementById('total');
    const regionBadge = document.getElementById('regionBadge');
    const currencyBadge = document.getElementById('currencyBadge');
    const hintEl = document.getElementById('hint');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');
    const ratesTRList = document.getElementById('ratesTR');
    const ratesUAList = document.getElementById('ratesUA');

    let region = 'TR';

    function formatMoney(n){
      if (!isFinite(n)) return '‚Äî';
      return Math.round(n).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
    }
    function parseNumber(value){
      const cleaned = String(value).replace(/\s+/g,'').replace(',', '.');
      const num = Number(cleaned);
      return isFinite(num) ? num : NaN;
    }
    function getRate(amount, rates){
      for (const r of rates){
        if (amount >= r.from) return r.rate;
      }
      return rates[rates.length - 1].rate;
    }

    function recalc(){
      const amount = parseNumber(amountEl.value);
      const rates = region === 'TR' ? RATES_TR : RATES_UA;

      if (!isFinite(amount) || amount < 0){
        rateEl.textContent = '‚Äî';
        totalEl.textContent = '‚Äî';
        hintEl.textContent = '–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (—á–∏—Å–ª–æ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 0).';
        return;
      }

      const rate = getRate(amount, rates);
      let total = amount * rate;
      if (total < 250) total = 250;

      rateEl.textContent = rate.toFixed(2).replace('.', ',');
      total = Math.ceil(total / 5) * 5;
      totalEl.textContent = formatMoney(total);
      hintEl.textContent = `–°—É–º–º–∞: ${amount} ${region === 'TR' ? 'TL' : 'UAH'} √ó –∫—É—Ä—Å ${rate.toFixed(2).replace('.', ',')} ‚ÇΩ = ${formatMoney(total)} ‚ÇΩ`;
    }

    function setRegion(next){
      region = next;
      const isTR = region === 'TR';

      tabTR.classList.toggle('active', isTR);
      tabUA.classList.toggle('active', !isTR);
      tabTR.setAttribute('aria-selected', String(isTR));
      tabUA.setAttribute('aria-selected', String(!isTR));

      regionBadge.textContent = `–†–µ–≥–∏–æ–Ω: ${isTR ? '–¢—É—Ä—Ü–∏—è' : '–£–∫—Ä–∞–∏–Ω–∞'}`;
      currencyBadge.textContent = isTR ? 'TL' : 'UAH';

      recalc();
    }

    function fillRates(){
      ratesTRList.innerHTML = RATES_TR
        .map(r => `<li>–û—Ç <b>${r.from}TL</b> ‚Äî <b>${String(r.rate).replace('.', ',')}</b></li>`).join('');
      ratesUAList.innerHTML = RATES_UA
        .map(r => `<li>–û—Ç <b>${r.from}UAH</b> ‚Äî <b>${String(r.rate).replace('.', ',')}</b></li>`).join('');
    }

    tabTR.addEventListener('click', () => setRegion('TR'));
    tabUA.addEventListener('click', () => setRegion('UA'));
    amountEl.addEventListener('input', recalc);

    clearBtn.addEventListener('click', () => {
      amountEl.value = '0';
      amountEl.focus();
      recalc();
    });

    copyBtn.addEventListener('click', async () => {
      const totalText = totalEl.textContent;
      if (totalText === '‚Äî') return;

      const cur = (region === 'TR') ? 'TL' : 'UAH';
      const amount = amountEl.value || '0';
      const rate = rateEl.textContent;
      const text = `–†–µ–≥–∏–æ–Ω: ${region === 'TR' ? '–¢—É—Ä—Ü–∏—è' : '–£–∫—Ä–∞–∏–Ω–∞'} | –°—É–º–º–∞: ${amount} ${cur} | –ö—É—Ä—Å: ${rate} ‚ÇΩ | –ò—Ç–æ–≥–æ: ${totalText} ‚ÇΩ`;

      try{
        await navigator.clipboard.writeText(text);
        hintEl.textContent = '‚úÖ –ò—Ç–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.';
        setTimeout(recalc, 1100);
      }catch(e){
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
        hintEl.textContent = '‚úÖ –ò—Ç–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω.';
        setTimeout(recalc, 1100);
      }
    });

    fillRates();
    setRegion('TR');
    recalc();
    // –∫—É—Ä—Å–æ—Ä –≤ –ø–æ–ª–µ ‚Äî —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –≤–≤–æ–¥–∏—Ç—å
    amountEl.focus();
    amountEl.select();
  </script>
</body>
</html>
